@prefix sh:	<http://www.w3.org/ns/shacl#>.
@prefix ex: <http://www.w3.org/2022/example#> .
@prefix property: <http://www.dke-pr/property#> .
@prefix state: <http://www.dke-pr/aircraft/state#> .
@prefix response: <http://www.dke-pr/aircraft/response#> .
@prefix aircraft: <http://www.dke-pr/aircraft#>.

ex:AircraftShape a sh:NodeShape ;
    sh:targetClass ex:Aircraft ;
    sh:closed true ;

    sh:rule [
         a sh:SPARQLRule ;
         sh:prefixes ex:, property: ;
         sh:construct """
                PREFIX ex: <http://www.w3.org/2022/example#>
                PREFIX property: <http://www.dke-pr/property#>

                CONSTRUCT {
                    ?aggregation a ex:Aggregation ;
                    property:count ?count ;

                }
                WHERE {
                {
                    SELECT (Count(?aircraft) as ?count)
                    where {
                        ?aggregation a ex:Aircraft .
                        ?aggregation property:hasOwner ?hasOwner.
                        FILTER(?hasOwner = "Private")
                       
                    }

                }
                }
        """
    ];
.
